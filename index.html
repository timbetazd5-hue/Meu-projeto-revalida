<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Simulado de Medicina</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .question { margin-bottom: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 8px; }
    select, button { margin: 10px 0; padding: 8px; }
    .no-questions { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Simulado de Medicina</h1>

  <label for="areaSelect">Selecione a área:</label>
  <select id="areaSelect">
    <option value="Pediatria">Pediatria</option>
    <option value="Cirurgia">Cirurgia</option>
    <option value="Clínica Médica">Clínica Médica</option>
    <option value="Preventiva">Preventiva</option>
    <option value="Ginecologia e Obstetrícia">Ginecologia e Obstetrícia</option>
  </select>
  <button onclick="carregarQuestoes()">Carregar Questões</button>

  <div id="questionsContainer"></div>

  <script>
    let questions = [];

    async function carregarQuestoes() {
      const areaSelecionada = document.getElementById("areaSelect").value;
      const response = await fetch("questions.csv");
      const data = await response.text();
      const linhas = data.split("\n").slice(1);

      questions = linhas.map(linha => {
        const cols = linha.split(",");
        return {
          question: cols[0],
          options: JSON.parse(cols[1].replace(/""/g,'"')),
          answer: cols[2],
          comment: cols[3],
          area: cols[4],
          banca: cols[5]
        };
      }).filter(q => q.area === areaSelecionada);

      mostrarQuestoes();
    }

    function mostrarQuestoes() {
      const container = document.getElementById("questionsContainer");
      container.innerHTML = "";

      if (questions.length === 0) {
        container.innerHTML = "<p class='no-questions'>Nenhuma questão encontrada para essa área.</p>";
        return;
      }

      questions.forEach((q, index) => {
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `
          <p><strong>${index + 1}. ${q.question}</strong></p>
          <ul>
            ${q.options.map(op => `<li>${op}</li>`).join("")}
          </ul>
          <p><em>Resposta correta:</em> ${q.answer}</p>
          <p><em>Comentário:</em> ${q.comment}</p>
        `;
        container.appendChild(div);
      });
    }
  </script>
</body>
</html>
